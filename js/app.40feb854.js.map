{"version":3,"file":"js/app.40feb854.js","mappings":"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","sources":["webpack://javascript-music-interval-training/./src/App.vue","webpack://javascript-music-interval-training/./src/components/Keyboard.vue","webpack://javascript-music-interval-training/./src/components/Keyboard.vue?1043","webpack://javascript-music-interval-training/./src/App.vue?7ccd","webpack://javascript-music-interval-training/./src/main.js","webpack://javascript-music-interval-training/webpack/bootstrap","webpack://javascript-music-interval-training/webpack/runtime/chunk loaded","webpack://javascript-music-interval-training/webpack/runtime/compat get default export","webpack://javascript-music-interval-training/webpack/runtime/define property getters","webpack://javascript-music-interval-training/webpack/runtime/global","webpack://javascript-music-interval-training/webpack/runtime/hasOwnProperty shorthand","webpack://javascript-music-interval-training/webpack/runtime/publicPath","webpack://javascript-music-interval-training/webpack/runtime/jsonp chunk loading","webpack://javascript-music-interval-training/webpack/startup"],"sourcesContent":["<template>\n  <!-- <img alt=\"Vue logo\" src=\"./assets/logo.png\"> -->\n  <!-- <HelloWorld msg=\"Welcome to Your Vue.js App\"/> -->\n\n  <!-- <button @click=\"start\" > Play </button> -->\n\n  <img style=\"width: 8em;cursor: pointer;\" src=\"./assets/play_and_refresh.png\" @click=\"start\"/>\n\n\n  <div style=\"height: 150px\">\n    <h2 v-if=\"started\">請跟著彈</h2>\n    <h1\n      style=\"height:40px\"\n    >{{playedNotes.join(' ')}}</h1>\n    <!-- <h1 v-show=\"playedNotes.length <= 0\">點擊Play開始或重新播放</h1> -->\n    <h1\n    style=\"height:40px\"\n    class=\"answer\"\n    :class=\"isAnswerCorrect\">{{playerPlayedNotes.join(' ')}}</h1>\n  </div>\n  <Keyboard @sheet-pressed=\"e => virtualKeyBoardPressed(e)\"/>\n</template>\n\n<script>\nimport Keyboard from '@/components/Keyboard.vue'\n\nvar AudioContextFunc = window.AudioContext || window.webkitAudioContext;\nvar audioContext = new AudioContextFunc();\nvar player = new window.WebAudioFontPlayer();\nplayer.loader.decodeAfterLoading(audioContext, '_tone_0000_JCLive_sf2_file');\n\n\nconst NOTES = [\n  {\n    index: 60,\n    name: 'C4'\n  },\n  {\n    index: 62,\n    name: 'D4'\n  },\n  {\n    index: 64,\n    name: 'E4'\n  },\n  {\n    index: 65,\n    name: 'F4'\n  },\n  {\n    index: 67,\n    name: 'G4'\n  },\n  {\n    index: 69,\n    name: 'A4'\n  },\n  {\n    index: 71,\n    name: 'B4'\n  },\n  {\n    index: 72,\n    name: 'C5'\n  },\n]\nexport default {\n  name: 'App',\n  components: {\n    Keyboard\n  },\n  data() {\n    return {\n      started: false,\n      playedNotes: [],\n      playerPlayedNotes: [],\n      isAnswerCorrect: '',\n      audioPlayer: undefined\n    }\n  },\n  mounted() {\n    var midi = null;  // global MIDIAccess object\n\n    // var outputDevice = null\n    var self = this\n\n    // function sendMiddleD() {\n    //   var noteOnMessage = [0x90, 62, 0x7f];    // note on, middle C, full velocity\n    //   // var output = midiAccess.outputs.get(portID);\n    //   outputDevice.send(noteOnMessage); // sends the message.\n    //   outputDevice.send( [0x80, 62, 0x7f], window.performance.now() + 500.0 );\n    // }\n\n  // function echoMIDIMessage( event ) {\n  //   // console.log(event.data)\n  //   if (outputDevice) {\n  //     outputDevice.send( event.data, window.performance.now() + 500.0 );\n  //   }\n  // }\n\n    function onMessage(event) {\n      // console.log(event)\n      // const [channel, number, value] = event.data;\n      const [channel, number] = event.data;\n      if (channel > 130) { // pressed\n        self.handlePlayerInput(number)\n      }\n    }\n\n\n    function onMIDISuccess( midiAccess ) {\n      console.log( \"MIDI ready!\", midiAccess );\n      midi = midiAccess;  // store in the global (in real usage, would probably keep in an object instance)\n      console.log(midi.inputs)\n      listInputsAndOutputs(midi)\n    }\n\n    function listInputsAndOutputs( midiAccess ) {\n      for (let entry of midiAccess.inputs) {\n        var input = entry[1];\n        console.log( \"Input port [type:'\" + input.type + \"'] id:'\" + input.id +\n          \"' manufacturer:'\" + input.manufacturer + \"' name:'\" + input.name +\n          \"' version:'\" + input.version + \"'\" );\n          input.onmidimessage = onMessage\n      }\n\n      for (let entry of midiAccess.outputs) {\n        var output = entry[1];\n        console.log( \"Output port [type:'\" + output.type + \"'] id:'\" + output.id +\n          \"' manufacturer:'\" + output.manufacturer + \"' name:'\" + output.name +\n          \"' version:'\" + output.version + \"'\" );\n\n        // outputDevice = output\n        self.outputDevice = output\n      }\n    }\n\n    function onMIDIFailure(msg) {\n      console.log( \"Failed to get MIDI access - \" + msg );\n    }\n\n    navigator.requestMIDIAccess().then( onMIDISuccess, onMIDIFailure );\n  },\n  methods: {\n    async start() {\n      this.started = true\n      this.playedNotes = []\n      this.playerPlayedNotes = []\n      this.playTest()\n    },\n    async playTest(count = 2) {\n      return new Promise(async(  resolve) => {\n\n        // let notes_to_play = []\n        for(let i = 0; i < count; i++ ){\n          let index = Math.floor(Math.random()* NOTES.length)\n          // notes_to_play.push(NOTES[index])\n          // p.push(this.playSound(NOTES[index]))\n          let noteToPlay = NOTES[index]\n          this.playedNotes.push(noteToPlay.name)\n          await this.playSound(noteToPlay.index)\n        }\n        resolve()\n      })\n    },\n    handlePlayerInput(pitch){\n      if (this.playerPlayedNotes.length >= 2) {\n        this.playerPlayedNotes = []\n      }\n\n      try {\n        const note = NOTES.find(_ => _.index === pitch)\n        this.playerPlayedNotes.push(note.name)\n      } catch (error) {\n        // console.log\n      }\n    },\n    virtualKeyBoardPressed(pitch ) {\n      pitch += 12\n      this.handlePlayerInput(pitch)\n      this.playSound(pitch)\n    },\n    playSound(pitch = 60) {\n\n\n      return new Promise((resolve) => {\n        player.queueWaveTable(audioContext, audioContext.destination, window._tone_0000_JCLive_sf2_file, 0, pitch, 0.75);\n\n        var delay = 500\n        // player.queueWaveTable(audioContext, audioContext.destination, window._tone_0000_JCLive_sf2_file, 0, pitch, 0.75);\n        // player.queueWaveTable(audioContext, audioContext.destination, _tone_0090_JCLive_sf2_file, 0, pitch, 0.75);\n        // if (this.outputDevice) {\n        //   var noteOnMessage = [0x90, note, 0x7f];    // note on, middle C, full velocity\n        //   // var output = midiAccess.outputs.get(portID);\n        //   this.outputDevice.send(noteOnMessage); // sends the message.\n        //   this.outputDevice.send( [0x80, note, 0x7f], window.performance.now() + delay );\n        // }\n\n        setTimeout(function() {\n          resolve()\n        }, delay)\n      })\n    },\n    matchTestNotes(){\n      this.isAnswerCorrect = ''\n      const NEXT_RUN_DELAY = 1000\n      // const self = this\n      if(this.playedNotes.length < 2 || this.playerPlayedNotes.length < 2) return\n\n\n      let note1 = false\n      let note2 = false\n\n\n      let n1Index = this.playerPlayedNotes.length - 2\n      if (n1Index <= 0) n1Index = 0\n\n      // console.log('n1Index', n1Index)\n      if (\n        this.playerPlayedNotes.length > 0 &&\n        this.playedNotes[0] === this.playerPlayedNotes[n1Index]) {\n        note1 = true\n      }\n\n\n      if (\n        this.playerPlayedNotes.length > 1 &&\n        this.playedNotes[1] === this.playerPlayedNotes[this.playerPlayedNotes.length - 1] ) {\n        console.log('note 2 correct')\n        note2 = true\n      }\n\n      if ( note1 && note2) {\n        // delay next run\n        this.isAnswerCorrect = 'correct'\n        setTimeout(() => {\n          this.start()\n        }, NEXT_RUN_DELAY)\n      }else {\n        this.isAnswerCorrect = 'wrong'\n      }\n      // console.log(this.playedNotes)\n      // console.log(v)\n    }\n  },\n  watch: {\n    playerPlayedNotes: {\n      deep:true,\n      handler: function(v) {\n        this.matchTestNotes(v)\n      }\n    }\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n\nbody {\n  margin: 0;\n  padding: 0;\n}\n\n</style>\n\n<style scoped>\n\n.answer.wrong {\n  color: red;\n}\n\n.answer.correct {\n  color: green;\n}\nh1,h2 {\n  padding:0;\n  margin:0;\n}\n</style>\n","<template>\n  <div class=\"keyboard\">\n    <div\n      v-for=\"(k, _) in keys\"\n      :key=\"_\"\n      :class=\"k.class\"\n      @mousedown=\"e => mousedown(k)\"\n      @mouseup=\"e => mouseup(k)\"\n      @mouseleave=\"e => mouseup(k)\"\n    />\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'KeyBoard',\n  props: {\n    msg: String,\n    player: Object\n  },\n  data() {\n    const baseKeyIndex = 4\n    return {\n      baseKeyIndex,\n      keys: [\n        {\n          class: 'white c',\n          pitch: baseKeyIndex * 12 + 0,\n          keycode: 'KeyA',\n          pressing: false\n        },\n        {\n          class: 'black c-sharp',\n          pitch: baseKeyIndex * 12 + 1,\n          keycode: 'KeyW',\n          pressing: false\n        },\n        {\n          class: 'white d',\n          pitch: baseKeyIndex * 12 + 2,\n          keycode: 'KeyS',\n          pressing: false\n        },\n        {\n          class: 'black d-sharp',\n          pitch: baseKeyIndex * 12 + 3,\n          keycode: 'KeyE',\n          pressing: false\n        },\n        {\n          class: 'white e',\n          pitch: baseKeyIndex * 12 + 4,\n          keycode: 'KeyD',\n          pressing: false\n        },\n        {\n          class: 'white f',\n          pitch: baseKeyIndex * 12 + 5,\n          keycode: 'KeyF',\n          pressing: false\n        },\n        {\n          class: 'black f-sharp',\n          pitch: baseKeyIndex * 12 + 6,\n          keycode: 'KeyT',\n          pressing: false\n        },\n        {\n          class: 'white g',\n          pitch: baseKeyIndex * 12 + 7,\n          keycode: 'KeyG',\n          pressing: false\n        },\n        {\n          class: 'black g-sharp',\n          pitch: baseKeyIndex * 12 + 8,\n          keycode: 'KeyY',\n          pressing: false\n        },\n        {\n          class: 'white a',\n          pitch: baseKeyIndex * 12 + 9,\n          keycode: 'KeyH',\n          pressing: false\n        },\n        {\n          class: 'black a-sharp',\n          pitch: baseKeyIndex * 12 + 10,\n          keycode: 'KeyU',\n          pressing: false\n        },\n        {\n          class: 'white b',\n          pitch: baseKeyIndex * 12 + 11,\n          keycode: 'KeyJ',\n          pressing: false\n        },\n        {\n          class: 'white c5',\n          pitch: (baseKeyIndex +1) * 12,\n          keycode: 'KeyK',\n          pressing: false\n        },\n      ]\n    }\n  },\n  mounted() {\n    const self = this\n    window.addEventListener(\"keydown\", e => {\n      const key = self.keys.find( _ => _.keycode === e.code)\n      if(!key) return\n      if(key.pressing) return\n\n      key.pressing = true\n      key.class = key.class + \" active\"\n      self.play(key.pitch)\n    });\n\n    window.addEventListener(\"keyup\", e => {\n      const key = self.keys.find( _ => _.keycode === e.code)\n      if(!key) return\n\n      key.class = key.class.replace(' active', '')\n\n      key.pressing = false\n    })\n  },\n  methods: {\n    play(pitch) {\n      this.$emit('sheetPressed', pitch)\n    },\n    mousedown(key) {\n      key.pressing = true\n      key.class = key.class + \" active\"\n      this.play(key.pitch)\n    },\n    mouseup(key) {\n      key.class = key.class.replaceAll(' active', '')\n    }\n  }\n}\n</script>\n\n<style scoped>\n.keyboard {\n  margin:0 auto;\n  max-width: 880px;\n  position: relative;\n  display: block;\n  width: 100%;\n  height: 350px;\n}\n.white,\n.black {\n  float: left;\n  box-sizing: border-box;\n  -webkit-user-select:none;\n  -moz-user-select:none;\n  -o-user-select:none;\n  user-select:none;\n}\n\n.white {\n  height: 300px;\n  width: 12.5%;\n  border: 2px solid black;\n  display: inline-block;\n  cursor: pointer;\n}\n\n.black {\n  height: 200px;\n  width: 5%;\n  border: 2px solid #000000;\n  background-color: #000000;\n  display: inline-block;\n  cursor: pointer;\n  z-index: 10;\n  /* left: 15px;\n  margin-left: -30px; */\n  position: absolute;\n}\n\n.white:active,\n.white.active {\n  background-color: #e0e0e0;\n}\n\n.black:active,\n.black.active {\n  background-color: #404040;\n}\n\n.c-sharp {\n  left:10%;\n}\n\n.d-sharp {\n  left:22.5%;\n}\n\n.f-sharp  {\n  left:47.5%;\n}\n\n.g-sharp  {\n  left:60%;\n}\n\n.a-sharp  {\n  left:73%;\n}\n\n</style>","import { render } from \"./Keyboard.vue?vue&type=template&id=f025bbe0&scoped=true\"\nimport script from \"./Keyboard.vue?vue&type=script&lang=js\"\nexport * from \"./Keyboard.vue?vue&type=script&lang=js\"\n\nimport \"./Keyboard.vue?vue&type=style&index=0&id=f025bbe0&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/zack/projects/javascript-music-interval-training/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f025bbe0\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=2a797a74&scoped=true\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=2a797a74&lang=css\"\nimport \"./App.vue?vue&type=style&index=1&id=2a797a74&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/zack/projects/javascript-music-interval-training/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2a797a74\"]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App).mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.p = \"/javascript-music-interval-training/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkjavascript_music_interval_training\"] = self[\"webpackChunkjavascript_music_interval_training\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(895); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["style","_createElementVNode","src","_imports_0","onClick","$options","$data","_createElementBlock","_hoisted_2","_toDisplayString","join","class","_createVNode","_component_Keyboard","onSheetPressed","e","_Fragment","_renderList","k","_","key","onMousedown","onMouseup","onMouseleave","name","props","msg","String","player","Object","data","baseKeyIndex","keys","pitch","keycode","pressing","mounted","self","this","window","addEventListener","find","code","play","replace","methods","$emit","mousedown","mouseup","replaceAll","__exports__","AudioContextFunc","AudioContext","webkitAudioContext","audioContext","WebAudioFontPlayer","loader","decodeAfterLoading","NOTES","index","components","Keyboard","started","playedNotes","playerPlayedNotes","isAnswerCorrect","audioPlayer","undefined","midi","onMessage","event","channel","number","handlePlayerInput","onMIDISuccess","midiAccess","console","log","inputs","listInputsAndOutputs","entry","input","type","id","manufacturer","version","onmidimessage","outputs","output","outputDevice","onMIDIFailure","navigator","requestMIDIAccess","then","async","playTest","count","Promise","i","Math","floor","random","length","noteToPlay","push","playSound","resolve","note","error","virtualKeyBoardPressed","queueWaveTable","destination","_tone_0000_JCLive_sf2_file","delay","setTimeout","matchTestNotes","NEXT_RUN_DELAY","note1","note2","n1Index","start","watch","deep","handler","v","render","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","call","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","forEach","bind","__webpack_exports__"],"sourceRoot":""}